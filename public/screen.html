<!DOCTYPE html>
<html>
    <head>
        <title>SinkIt - Screen</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script type="text/javascript" src="https://www.airconsole.com/api/airconsole-1.7.0.js"></script>
        <link rel="stylesheet" href="css/style.css" />
    </head>
    <body>
        <script type="text/javascript">
        var air_console = new AirConsole();
        var myCounter = 0;

        // Listen for messages from other devices
        air_console.onMessage = function(from, data) {

            if (data === '+1') {
                myCounter++;
            } else if (data === '-1') {
                myCounter--;
            } else {
                console.debug('unkown message', from, data);
            }

            document.getElementById('counter').innerHTML = myCounter;

            /*
            // We receive a message -> Send message back to the device
            air_console.message(from, "Full of pixels!");

            // Show message on device screen
            var info = document.createElement('DIV');
            info.innerHTML = data;
            document.body.appendChild(info);
            */
        };


        air_console.onDeviceStateChange = function(device_id, user_data) {
            var ids = air_console.getControllerDeviceIds();
            document.getElementById('deviceIds').innerHTML = JSON.stringify([ids, user_data]);
        }

        </script>

        <span id="deviceIds"></span>
        <span id="counter">0</span>
    </body>
</html>

